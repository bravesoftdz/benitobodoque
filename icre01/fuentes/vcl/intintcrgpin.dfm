object WIntcrgpinfra: TWIntcrgpinfra
  Left = 159
  Top = 168
  Width = 875
  Height = 418
  Caption = 
    'Segmentación de la Cartera de Infraestructura y Construcción / F' +
    'uente de Pago'
  Color = clBtnFace
  Font.Charset = DEFAULT_CHARSET
  Font.Color = clWindowText
  Font.Height = -11
  Font.Name = 'MS Sans Serif'
  Font.Style = []
  OldCreateOrder = True
  OnClose = FormClose
  OnDestroy = FormDestroy
  OnShow = FormShow
  PixelsPerInch = 96
  TextHeight = 13
  object lbFecha: TLabel
    Left = 8
    Top = 10
    Width = 30
    Height = 13
    Caption = 'Fecha'
  end
  object sbExportar: TSpeedButton
    Left = 729
    Top = 28
    Width = 116
    Height = 21
    Caption = 'Exportar resumen'
    Glyph.Data = {
      36040000424D3604000000000000360000002800000010000000100000000100
      20000000000000040000C40E0000C40E00000000000000000000D8E6E0FF4C77
      57FF3F7450FF396B4EFF38684CFF356549FF336246FF315E42FF2A553DFF2954
      3BFF254F37FF204A33FF1B4630FF18432DFF1A482EFF173827FFD1E3DBFF5B92
      6AFF87BB95FFA5C8B1FFA0C4AAFFA0C4AAFF9CBFA7FF99BCA3FF97BCA3FF96BB
      A2FF91B69DFF8FB59CFF8EB59BFF93BB9FFF659D7BFF19492FFFD2E5DCFF598B
      68FFB6D5BFFFFFFFFEFFF3FBF2FFF0F9EEFFEEF9EDFFECF7EBFFE9F5E8FFECF6
      EBFFF1FDF1FFF0FDEFFFEEFCEBFFF7FFF4FF94BBA1FF18432CFFD3E5DCFF6090
      6EFFB1D3B8FFF5FFF4FFEBF5EBFFE9F4E9FFE5F3E5FFE3F2E4FFE2F3E4FFBFDD
      C1FF8EAE92FF8BA792FF8EA693FF9CAF9DFF86AE93FF1D4832FFD3E5DDFF6A98
      78FFADD4B5FF719075FF436B4CFF496E52FF4D6D54FF507157FF406E48FF4180
      48FF347742FF18582CFF185128FF436549FF85AC92FF244D37FFD5E6DCFF719B
      7EFFBADBC1FF8CB893FF3F894FFF529C63FF559661FF347940FF287232FF68B3
      71FF53A461FF2F8943FF1D722CFFB1DCB5FF9CBEA7FF244F37FFD4E6DCFF769F
      82FFC1DAC7FFF9FFF9FF99C69DFF6AB273FF4FA156FF37883DFF78BF7FFF63AF
      68FF45964EFF1E7029FF1A6025FFA3C4A7FFA3C5ACFF29553BFFD5E7DDFF7FA8
      8AFFC5DBCAFFFFFFFFFFF4FFF4FF86B989FF34823AFF7EC484FF6BB470FF539E
      56FF4E9353FF84B289FF98B89EFFC4D8C5FF9EC1A9FF2A553CFFD5E8DDFF84AC
      90FFC7DCCCFFFFFFFFFFE6F6E8FF8EBC93FF8AC68FFF77BC7FFF5EA764FF4E91
      52FF448247FFCAEACCFFF5FFF7FFF0FBEFFF98BBA4FF315E44FFD7E8DEFF8AAF
      94FFCCE0D1FFEEF8EFFF95C09AFF90C898FF87C68FFF69AE6FFF57985CFF6AAF
      70FF54985AFF49814AFFC5E0C6FFF5FEF5FF9CC1A7FF346347FFD8E9DEFF94BA
      9EFFC4DECAFFA8CAADFF97CC9FFF8BCB96FF74B77EFF7BAE7FFF89B28AFF6FAF
      74FF73BB7BFF4F9453FF477E47FFCAE3C9FFA4C9AFFF346549FFD7E9DFFF98BF
      A2FFBFDAC6FFA7C4ABFF95C19BFF86B58CFF88B08DFFD7EAD8FFEFFCEFFF9CBE
      9FFF7CAB80FF7CAB81FF58845AFFAAC2A9FFABCDB6FF38684CFFD8EADFFF99BE
      A2FFD3E5D8FFFFFFFFFFF3FFF5FFF3FFF4FFF9FFF9FFFFFFFFFFFFFFFEFFF9FF
      FAFFEEFDEFFFEBFCEEFFECFBEFFFFBFFFAFFA5C8B1FF396A4DFFD9E9E0FFA3C5
      ACFFBAD2C0FFD8E3DAFFD4E3D7FFD2E4D6FFCDE0D1FFC7DCCCFFC5DCCAFFC0D9
      C6FFBED9C5FFBBD8C2FFB7D5BEFFB7D6BFFF87BB95FF3F7450FFDDEAE2FF9FBB
      A7FFA3C5ABFF9ABEA2FF97BB9FFF93B89CFF8BB095FF86AC8FFF81A98BFF77A0
      82FF6F9A7CFF689674FF62916FFF598B69FF5B9269FF4C7658FFF8FDF9FFDDEA
      E2FFD9EADFFFD9EADFFFD9E9DFFFD8E9DEFFD8E9DCFFD8E8DEFFD7E8DFFFD4E7
      DDFFD6E6DDFFD5E5DCFFD5E5DCFFD3E5DCFFD1E3DBFFDAE6E0FF}
    OnClick = sbExportarClick
  end
  object sbExportarDetalle: TSpeedButton
    Left = 729
    Top = 51
    Width = 116
    Height = 21
    Caption = 'Exportar detalle'
    Glyph.Data = {
      36040000424D3604000000000000360000002800000010000000100000000100
      20000000000000040000C40E0000C40E00000000000000000000D8E6E0FF4C77
      57FF3F7450FF396B4EFF38684CFF356549FF336246FF315E42FF2A553DFF2954
      3BFF254F37FF204A33FF1B4630FF18432DFF1A482EFF173827FFD1E3DBFF5B92
      6AFF87BB95FFA5C8B1FFA0C4AAFFA0C4AAFF9CBFA7FF99BCA3FF97BCA3FF96BB
      A2FF91B69DFF8FB59CFF8EB59BFF93BB9FFF659D7BFF19492FFFD2E5DCFF598B
      68FFB6D5BFFFFFFFFEFFF3FBF2FFF0F9EEFFEEF9EDFFECF7EBFFE9F5E8FFECF6
      EBFFF1FDF1FFF0FDEFFFEEFCEBFFF7FFF4FF94BBA1FF18432CFFD3E5DCFF6090
      6EFFB1D3B8FFF5FFF4FFEBF5EBFFE9F4E9FFE5F3E5FFE3F2E4FFE2F3E4FFBFDD
      C1FF8EAE92FF8BA792FF8EA693FF9CAF9DFF86AE93FF1D4832FFD3E5DDFF6A98
      78FFADD4B5FF719075FF436B4CFF496E52FF4D6D54FF507157FF406E48FF4180
      48FF347742FF18582CFF185128FF436549FF85AC92FF244D37FFD5E6DCFF719B
      7EFFBADBC1FF8CB893FF3F894FFF529C63FF559661FF347940FF287232FF68B3
      71FF53A461FF2F8943FF1D722CFFB1DCB5FF9CBEA7FF244F37FFD4E6DCFF769F
      82FFC1DAC7FFF9FFF9FF99C69DFF6AB273FF4FA156FF37883DFF78BF7FFF63AF
      68FF45964EFF1E7029FF1A6025FFA3C4A7FFA3C5ACFF29553BFFD5E7DDFF7FA8
      8AFFC5DBCAFFFFFFFFFFF4FFF4FF86B989FF34823AFF7EC484FF6BB470FF539E
      56FF4E9353FF84B289FF98B89EFFC4D8C5FF9EC1A9FF2A553CFFD5E8DDFF84AC
      90FFC7DCCCFFFFFFFFFFE6F6E8FF8EBC93FF8AC68FFF77BC7FFF5EA764FF4E91
      52FF448247FFCAEACCFFF5FFF7FFF0FBEFFF98BBA4FF315E44FFD7E8DEFF8AAF
      94FFCCE0D1FFEEF8EFFF95C09AFF90C898FF87C68FFF69AE6FFF57985CFF6AAF
      70FF54985AFF49814AFFC5E0C6FFF5FEF5FF9CC1A7FF346347FFD8E9DEFF94BA
      9EFFC4DECAFFA8CAADFF97CC9FFF8BCB96FF74B77EFF7BAE7FFF89B28AFF6FAF
      74FF73BB7BFF4F9453FF477E47FFCAE3C9FFA4C9AFFF346549FFD7E9DFFF98BF
      A2FFBFDAC6FFA7C4ABFF95C19BFF86B58CFF88B08DFFD7EAD8FFEFFCEFFF9CBE
      9FFF7CAB80FF7CAB81FF58845AFFAAC2A9FFABCDB6FF38684CFFD8EADFFF99BE
      A2FFD3E5D8FFFFFFFFFFF3FFF5FFF3FFF4FFF9FFF9FFFFFFFFFFFFFFFEFFF9FF
      FAFFEEFDEFFFEBFCEEFFECFBEFFFFBFFFAFFA5C8B1FF396A4DFFD9E9E0FFA3C5
      ACFFBAD2C0FFD8E3DAFFD4E3D7FFD2E4D6FFCDE0D1FFC7DCCCFFC5DCCAFFC0D9
      C6FFBED9C5FFBBD8C2FFB7D5BEFFB7D6BFFF87BB95FF3F7450FFDDEAE2FF9FBB
      A7FFA3C5ABFF9ABEA2FF97BB9FFF93B89CFF8BB095FF86AC8FFF81A98BFF77A0
      82FF6F9A7CFF689674FF62916FFF598B69FF5B9269FF4C7658FFF8FDF9FFDDEA
      E2FFD9EADFFFD9EADFFFD9E9DFFFD8E9DEFFD8E9DCFFD8E8DEFFD7E8DFFFD4E7
      DDFFD6E6DDFFD5E5DCFFD5E5DCFFD3E5DCFFD1E3DBFFDAE6E0FF}
    OnClick = sbExportarDetalleClick
  end
  object dpFecha: TDateTimePicker
    Left = 8
    Top = 24
    Width = 121
    Height = 21
    CalAlignment = dtaLeft
    Date = 41008.5208209375
    Time = 41008.5208209375
    DateFormat = dfShort
    DateMode = dmComboBox
    Kind = dtkDate
    ParseInput = False
    TabOrder = 0
  end
  object SGCtrl1: TSGCtrl
    Left = 8
    Top = 104
    Width = 841
    Height = 265
    ShowTab = True
    TabOrder = 1
    TabWidth = 0
    ShowBtnPriorNext = True
    ShowBtnFirst = True
    ShowBtnLast = True
  end
  object GroupBox1: TGroupBox
    Left = 144
    Top = 8
    Width = 481
    Height = 41
    Caption = ' Incluir información de '
    TabOrder = 2
    object cbEstados: TCheckBox
      Left = 73
      Top = 16
      Width = 65
      Height = 17
      Caption = '&Estados'
      Checked = True
      State = cbChecked
      TabOrder = 1
    end
    object cbMunicipios: TCheckBox
      Left = 144
      Top = 16
      Width = 81
      Height = 17
      Caption = '&Municipios'
      Checked = True
      State = cbChecked
      TabOrder = 2
    end
    object cbOrgDesc: TCheckBox
      Left = 224
      Top = 16
      Width = 153
      Height = 17
      Caption = '&Organos Descentralizados'
      Checked = True
      State = cbChecked
      TabOrder = 3
    end
    object cbPrivado: TCheckBox
      Left = 382
      Top = 16
      Width = 97
      Height = 17
      Caption = 'Sector Privado'
      Checked = True
      State = cbChecked
      TabOrder = 4
    end
    object cbFederal: TCheckBox
      Left = 8
      Top = 16
      Width = 65
      Height = 17
      Caption = '&Federal'
      Checked = True
      State = cbChecked
      TabOrder = 0
    end
  end
  object btBusca: TBitBtn
    Left = 729
    Top = 4
    Width = 116
    Height = 21
    Caption = 'Inicia Busqueda'
    TabOrder = 3
    OnClick = dpFechaChange
    Glyph.Data = {
      76010000424D7601000000000000760000002800000020000000100000000100
      0400000000000001000000000000000000001000000010000000000000000000
      800000800000008080008000000080008000808000007F7F7F00BFBFBF000000
      FF0000FF000000FFFF00FF000000FF00FF00FFFF0000FFFFFF00555555555555
      555555555555555555555555555555555555555555FF55555555555559055555
      55555555577FF5555555555599905555555555557777F5555555555599905555
      555555557777FF5555555559999905555555555777777F555555559999990555
      5555557777777FF5555557990599905555555777757777F55555790555599055
      55557775555777FF5555555555599905555555555557777F5555555555559905
      555555555555777FF5555555555559905555555555555777FF55555555555579
      05555555555555777FF5555555555557905555555555555777FF555555555555
      5990555555555555577755555555555555555555555555555555}
    NumGlyphs = 2
  end
  object cbCartasCredito: TCheckBox
    Left = 360
    Top = 62
    Width = 137
    Height = 17
    Caption = 'Incluir cartas de crédito'
    Checked = True
    State = cbChecked
    TabOrder = 4
  end
  object cbInteresesAnticipados: TCheckBox
    Left = 360
    Top = 78
    Width = 217
    Height = 17
    Caption = 'Incluir intereses cobrados por anticipado'
    Checked = True
    State = cbChecked
    TabOrder = 5
  end
  object rgFactorMoneda: TRadioGroup
    Left = 10
    Top = 56
    Width = 343
    Height = 41
    Caption = ' Información expresada en: '
    Columns = 3
    ItemIndex = 0
    Items.Strings = (
      'Millones de pesos'
      'Miles de pesos'
      'Pesos')
    TabOrder = 6
  end
  object InterForma1: TInterForma
    IsMain = True
    OnDespuesNuevo = InterForma1DespuesNuevo
    OnDespuesModificar = InterForma1DespuesModificar
    msgSinRegistros = 'No existe un Registro para realizar la operación.'
    msgModificarRegistro = 'Imposible Modificar el Registro Actual.'
    msgEliminarRegistro = 'Imposible Eliminar el Registro Actual.'
    msgCrearRegistro = 'Imposible Crear el Registro Actual.'
    msgAceptarRegistro = 'Imposible Aceptar los cambios del Registro Actual.'
    msgCancelarRegistro = 'Imposible Cancelar los cambios del Registro Actual.'
    msgPreguntaEliminar = '¿Desea Eliminar el Registro Actual?'
    CanEdit = False
    IsNewData = False
    Version = 20
    HideButtons = False
    ShowBtnPreview = False
    ShowBtnImprimir = False
    OnBtnAyudaClick = InterForma1BtnAyudaClick
    ShowNavigator = False
    ShowError = False
    IsCancel = False
    Left = 34
    Top = 226
  end
  object QDatos: TQuery
    SQL.Strings = (
      'Select ID_Tipo,'
      
        '       Case When Renglon = 1 Then Tipo Else Null End            ' +
        '  Tipo,'
      '       Clave,'
      '       Descripcion,'
      
        '       Nvl (Pct_Minimo,   0)                                    ' +
        '  Pct_Minimo,'
      
        '       Nvl (Pct_Maximo,   0)                                    ' +
        '  Pct_Maximo,'
      
        '       Nvl (Pct_Real,     0)                                    ' +
        '  Pct_Real,'
      
        '       Nvl (Imp_Real,     0)                                    ' +
        '  Imp_Real,'
      
        '       Nvl (Cumplimiento, '#39'NO'#39')                                 ' +
        '  Cumplimiento'
      '  From (Select Tipo, '
      '               ID_Tipo, '
      '               Clave,'
      
        '               Row_Number () Over (Partition By ID_Tipo Order By' +
        ' Clave)                     Renglon, '
      '               Descripcion, '
      '               Pct_Minimo, '
      '               Pct_Maximo, '
      '               Pct_Real,'
      
        '               Round (Saldo / :peFactor, Case When :peFactor = 1' +
        '000000 Then 0 Else 2 End)   Imp_Real, '
      '               Cumplimiento'
      '          From ('
      
        '                Select 1                                        ' +
        '                                                         ID_Tipo' +
        ','
      
        '                       '#39'Por Subsector'#39'                          ' +
        '                                                         Tipo,'
      
        '                       Imp.ID_Sub_Mercado                       ' +
        '                                                         Clave,'
      
        '                       Imp.Desc_Sub_Mercado                     ' +
        '                                                         Descrip' +
        'cion,'
      '                       Imp.Saldo,'
      
        '                       Nvl (Pct.Pct_Minimo, 0)                  ' +
        '                                                         Pct_Min' +
        'imo,'
      
        '                       Nvl (Pct.Pct_Maximo, 0)                  ' +
        '                                                         Pct_Max' +
        'imo,'
      
        '                       Imp.Pct                                  ' +
        '                                                         Pct_Rea' +
        'l,'
      
        '                       Case When Imp.Pct < Nvl (Pct.Pct_Minimo, ' +
        '0)                                   Then '#39'NO'#39
      
        '                            When Imp.Pct Between Nvl (Pct.Pct_Mi' +
        'nimo, 0) And Nvl (Pct.Pct_Maximo, 0) Then '#39'SI'#39
      
        '                            When Imp.Pct > Nvl (Pct.Pct_Maximo, ' +
        '0)                                   Then '#39'EXCEDE'#39
      
        '                       End                                      ' +
        '                                                         Cumplim' +
        'iento'
      '                  From (Select ID_Sub_Mercado,'
      '                               Desc_Sub_Mercado,'
      '                               Saldo,'
      
        '                               Case When Nvl (Sum (Saldo) Over (' +
        '), 0) = 0 Then 0'
      
        '                                    Else Round (Saldo / Sum (Sal' +
        'do) Over () * 100, 2)'
      
        '                               End                              ' +
        '                                                         Pct'
      
        '                          From (Select Case When MD.ID_Sub_Merc ' +
        '= 6 Then 8 '
      '                                            Else MD.ID_Sub_Merc'
      
        '                                       End                      ' +
        '                                                                ' +
        '           ID_Sub_Mercado,'
      
        '                                       Case When MD.ID_Sub_Merc ' +
        'In (6, 8) Then '#39'CONSTRUCCION/OTROS'#39
      
        '                                            Else MD.Desc_Sub_Mer' +
        'c'
      
        '                                       End                      ' +
        '                                                                ' +
        '           Desc_Sub_Mercado,'
      
        '                                       Sum ((Nvl (Sdo.Imp_Cap_Vi' +
        'g,     0) +'
      
        '                                             Nvl (Sdo.Imp_Cap_Im' +
        'p,     0) +'
      
        '                                             Nvl (Sdo.Imp_Cap_Vd' +
        'o_NE,  0) +'
      
        '                                             Nvl (Sdo.Imp_Cap_Vd' +
        'o_Ex,  0) + '
      
        '                                             Nvl (Sdo.Imp_Int_Vi' +
        'g,     0) + '
      
        '                                             Nvl (Sdo.Imp_Int_Im' +
        'p,     0) +'
      
        '                                             Nvl (Sdo.Imp_Int_Vd' +
        'o_NE,  0) +'
      
        '                                             Nvl (Sdo.Imp_Int_Vd' +
        'o_Ex,  0) -'
      
        '                                             Case :peInt_Cob_Ant' +
        ' When '#39'V'#39' Then Nvl (Sdo.Imp_Int_Cob_Ant, 0) Else 0 End'
      
        '                                            ) * PkgCrConsolidado' +
        '1.Fnc_Obt_Tipo_Cambio_Regul (Cve_Moneda,  '
      
        '                                                                ' +
        '                             '#39'D000'#39', '
      
        '                                                                ' +
        '                             To_Char (:peFecha, '#39'YYYY'#39'),'
      
        '                                                                ' +
        '                             To_Char (:peFecha, '#39'MM'#39')'
      
        '                                                                ' +
        '                            )'
      
        '                                           )                    ' +
        '                                                                ' +
        '          Saldo'
      
        '                                  From CR_Mercado_Obj_Det       ' +
        '                                                           MD   ' +
        '             '
      
        '                                  Left Outer Join Table (PkgCrGP' +
        'Views.VW_CR_GP_Saldos_Edos_Mun (:peFecha, :peTipo_Entidad)) Sdo ' +
        'On MD.Cve_Mercado = Sdo.Cve_Mercado And'
      
        '                                                                ' +
        '                                                                ' +
        '   MD.ID_Sub_Merc = Sdo.ID_Sub_Merc '
      '                                 Where MD.Cve_Mercado = '#39'INFR'#39
      
        '                                   And (:peCartas_Cred = '#39'V'#39' Or ' +
        'Sdo.Tipo_Credito   = '#39'CRED'#39')'
      
        '                                 Group By Case When MD.ID_Sub_Me' +
        'rc = 6 Then 8 '
      '                                            Else MD.ID_Sub_Merc'
      '                                          End, '
      
        '                                          Case When MD.ID_Sub_Me' +
        'rc In (6, 8) Then '#39'CONSTRUCCION/OTROS'#39
      
        '                                            Else MD.Desc_Sub_Mer' +
        'c'
      '                                          End '
      '                               )'
      '                         Order By ID_Sub_Mercado       '
      '                       ) Imp'
      
        '                  Join (Select 1 ID_Sub_Merc,   16 Pct_Minimo,  ' +
        ' 22 Pct_Maximo From Dual Union  '
      
        '                        Select 2 ID_Sub_Merc,   16 Pct_Minimo,  ' +
        ' 22 Pct_Maximo From Dual Union  '
      
        '                        Select 3 ID_Sub_Merc,    2 Pct_Minimo,  ' +
        '  7 Pct_Maximo From Dual Union  '
      
        '                        Select 4 ID_Sub_Merc,   28 Pct_Minimo,  ' +
        ' 34 Pct_Maximo From Dual Union  '
      
        '                        Select 5 ID_Sub_Merc, Null Pct_Minimo, N' +
        'ull Pct_Maximo From Dual Union  '
      
        '                        Select 7 ID_Sub_Merc, Null Pct_Minimo, N' +
        'ull Pct_Maximo From Dual Union'
      
        '                        Select 8 ID_Sub_Merc,   23 Pct_Minimo,  ' +
        ' 29 Pct_Maximo From Dual   '
      
        '                       ) Pct On Imp.ID_Sub_Mercado = Pct.ID_Sub_' +
        'Merc'
      '                Union All      '
      
        '                Select 2                                        ' +
        '                                                         ID_Tipo' +
        ','
      
        '                       '#39'Por fuente de pago'#39'                     ' +
        '                                                         Tipo,'
      '                       Clave,'
      '                       Descripcion,'
      '                       Saldo,'
      '                       Pct_Minimo,'
      '                       Pct_Maximo,'
      
        '                       Pct                                      ' +
        '                                                         Pct_Rea' +
        'l,'
      
        '                       Case When Pct < Nvl (Pct_Minimo, 0)      ' +
        '                         Then '#39'NO'#39
      
        '                            When Pct Between Nvl (Pct_Minimo, 0)' +
        ' And Nvl (Pct_Maximo, 0) Then '#39'SI'#39
      
        '                            When Pct > Nvl (Pct_Maximo, 0)      ' +
        '                         Then '#39'EXCEDE'#39
      
        '                       End                                      ' +
        '                                                         Cumplim' +
        'iento'
      '                  From ('
      
        '                        Select Orden                            ' +
        '    Clave,'
      
        '                               Desc_Fuente_Pago                 ' +
        '    Descripcion,'
      '                               Saldo,'
      
        '                               Nvl (Pct_Minimo, 0)              ' +
        '    Pct_Minimo,'
      
        '                               Nvl (Pct_Maximo, 0)              ' +
        '    Pct_Maximo,'
      
        '                               Case When Nvl (Sum (Saldo) Over (' +
        '), 0) = 0 Then 0'
      
        '                                    Else Round (Saldo / Sum (Sal' +
        'do) Over () * 100, 2)'
      
        '                               End                              ' +
        '                      Pct'
      '                          From ('
      '                                Select FP.Cve_Fuente_Pago, '
      '                                       FP.Orden, '
      '                                       FP.Desc_Fuente_Pago,'
      '                                       FP.Pct_Minimo,'
      '                                       FP.Pct_Maximo, '
      
        '                                       Sum ((Nvl (Sdo.Imp_Cap_Vi' +
        'g,     0) +'
      
        '                                             Nvl (Sdo.Imp_Cap_Im' +
        'p,     0) +'
      
        '                                             Nvl (Sdo.Imp_Cap_Vd' +
        'o_NE,  0) +'
      
        '                                             Nvl (Sdo.Imp_Cap_Vd' +
        'o_Ex,  0) + '
      
        '                                             Nvl (Sdo.Imp_Int_Vi' +
        'g,     0) + '
      
        '                                             Nvl (Sdo.Imp_Int_Im' +
        'p,     0) +'
      
        '                                             Nvl (Sdo.Imp_Int_Vd' +
        'o_NE,  0) +'
      
        '                                             Nvl (Sdo.Imp_Int_Vd' +
        'o_Ex,  0) -'
      
        '                                             Case :peInt_Cob_Ant' +
        ' When '#39'V'#39' Then Nvl (Sdo.Imp_Int_Cob_Ant, 0) Else 0 End'
      
        '                                            ) * PkgCrConsolidado' +
        '1.Fnc_Obt_Tipo_Cambio_Regul (Cve_Moneda,  '
      
        '                                                                ' +
        '                             '#39'D000'#39', '
      
        '                                                                ' +
        '                             To_Char (:peFecha, '#39'YYYY'#39'),'
      
        '                                                                ' +
        '                             To_Char (:peFecha, '#39'MM'#39')'
      
        '                                                                ' +
        '                            )'
      
        '                                           )                    ' +
        '                                                                ' +
        '          Saldo'
      '                                  From ('
      
        '                                        Select '#39'01'#39' Cve_Fuente_P' +
        'ago,  3 Orden, '#39'PPS'#39'                Desc_Fuente_Pago,   30 Pct_M' +
        'inimo,   36 Pct_Maximo From Dual Union  --02'
      
        '                                        Select '#39'04'#39' Cve_Fuente_P' +
        'ago,  5 Orden, '#39'NO APLICA'#39'          Desc_Fuente_Pago, Null Pct_M' +
        'inimo, Null Pct_Maximo From Dual Union  --No'
      
        '                                        Select '#39'05'#39' Cve_Fuente_P' +
        'ago,  4 Orden, '#39'OTROS'#39'              Desc_Fuente_Pago,    0 Pct_M' +
        'inimo,    6 Pct_Maximo From Dual Union  --04'
      
        '                                        Select '#39'02'#39' Cve_Fuente_P' +
        'ago,  1 Orden, '#39'CESIÓN DE DERECHOS'#39' Desc_Fuente_Pago,   26 Pct_M' +
        'inimo,   32 Pct_Maximo From Dual Union  --05'
      
        '                                        Select '#39'03'#39' Cve_Fuente_P' +
        'ago,  2 Orden, '#39'FLUJO PROYECTO'#39'     Desc_Fuente_Pago,   20 Pct_M' +
        'inimo,   26 Pct_Maximo From Dual        --06'
      '                                       ) FP'
      
        '                                  Left Outer Join Table (PkgCrGP' +
        'Views.VW_CR_GP_Saldos_Edos_Mun (:peFecha, :peTipo_Entidad)) Sdo ' +
        'On FP.Cve_Fuente_Pago = Sdo.Cve_Fuente_Pago And'
      
        '                                                                ' +
        '                                                                ' +
        '   Sdo.Cve_Mercado    = '#39'INFR'#39
      '                                 Where :peCartas_Cred   = '#39'V'#39' '
      '                                    Or Sdo.Tipo_Credito = '#39'CRED'#39
      
        '                                 Group By FP.Cve_Fuente_Pago, FP' +
        '.Orden, FP.Desc_Fuente_Pago, FP.Pct_Minimo, FP.Pct_Maximo       ' +
        '                                                                ' +
        '                                    '
      '                               )         '
      '                       )       '
      '               )'
      '         Order By ID_Tipo, Clave        '
      '       )')
    Left = 160
    Top = 96
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'peFactor'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFactor'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peInt_Cob_Ant'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peTipo_Entidad'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peCartas_Cred'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peInt_Cob_Ant'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peTipo_Entidad'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peCartas_Cred'
        ParamType = ptUnknown
      end>
    object QDatosID_Tipo: TFloatField
      FieldName = 'ID_Tipo'
      Visible = False
    end
    object QDatosTipo: TStringField
      DisplayLabel = '       Organizado por'
      DisplayWidth = 20
      FieldName = 'Tipo'
      Size = 200
    end
    object QDatosClave: TFloatField
      FieldName = 'Clave'
      Visible = False
    end
    object QDatosDescripcion: TStringField
      DisplayLabel = '                                                Tipo'
      DisplayWidth = 50
      FieldName = 'Descripcion'
      Size = 200
    end
    object QDatosPct_Minimo: TFloatField
      Alignment = taCenter
      DisplayLabel = ' % Mínimo'
      FieldName = 'Pct_Minimo'
      DisplayFormat = '###,###,###,###,###.00'
    end
    object QDatosPct_Maximo: TFloatField
      Alignment = taCenter
      DisplayLabel = ' % Máximo'
      FieldName = 'Pct_Maximo'
      DisplayFormat = '###,###,###,###,###.00'
    end
    object QDatosImp_Real: TFloatField
      DisplayLabel = '             $ Real'
      DisplayWidth = 20
      FieldName = 'Imp_Real'
      DisplayFormat = '###,###,###,###,###.00'
    end
    object QDatosPct_Real: TFloatField
      Alignment = taCenter
      DisplayLabel = '    % Real'
      FieldName = 'Pct_Real'
      DisplayFormat = '###,###,###,###,###.00'
    end
    object QDatosCumplimiento: TStringField
      Alignment = taCenter
      DisplayLabel = ' Cumplimiento'
      DisplayWidth = 12
      FieldName = 'Cumplimiento'
      Size = 10
    end
  end
  object QLeyendaEntidades: TQuery
    SQL.Strings = (
      
        'Select '#39'Incluye información: '#39' || InitCap (Replace (Replace (Nvl' +
        ' (:peTipo_Entidad, PkgCRGPViews.Todas_Entidades), '#39'ORG-DESC'#39', '#39'Ó' +
        'rganos descentralizados'#39'), '#39'|'#39', '#39', '#39')) Leyenda_Entidades'
      '  From Dual             ')
    Left = 334
    Top = 114
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'peTipo_Entidad'
        ParamType = ptUnknown
      end>
  end
  object SaveXLS: TSaveDialog
    DefaultExt = 'xls'
    Filter = 'Archivos de Excel *.xls|*.xls|Todos los archivos|*.*'
    Options = [ofOverwritePrompt, ofHideReadOnly, ofEnableSizing]
    Title = 'Exportar a Excel'
    Left = 192
    Top = 120
  end
  object QDetalle: TQuery
    SQL.Strings = (
      'Select Orden_Clasif,'
      '       Clasificacion,'
      '       Orden_Concepto,'
      '       Concepto,'
      '       Nom_Acred_Reg,'
      '       ID_Acreditado,'
      '       ID_Contrato,'
      '       ID_Credito,'
      '       Tipo_Credito,'
      '       Pct_Minimo,'
      '       Pct_Maximo,'
      '       Imp_Real,'
      '       Pct_Real'
      
        '  From (Select 1                                                ' +
        '            Orden_Clasif,'
      
        '               '#39'Por subsector'#39'                                  ' +
        '            Clasificacion,'
      
        '               Sdo.ID_Sub_Mercado                               ' +
        '            Orden_Concepto,'
      
        '               Sdo.Desc_Sub_Mercado                             ' +
        '            Concepto,'
      '               Sdo.Nom_Acred_Reg,'
      '               Sdo.ID_Acreditado,'
      '               Sdo.ID_Contrato,'
      '               Sdo.ID_Credito,'
      '               Sdo.Tipo_Credito,'
      '               Pct.Pct_Minimo,'
      '               Pct.Pct_Maximo,'
      
        '               Round (Sdo.Imp_Real / :peFactor, Case When :peFac' +
        'tor = 1000000 Then 0 Else 2 End)   Imp_Real,'
      '               Case When Sum (Sdo.Imp_Real) Over () = 0 Then 0 '
      
        '                    Else Sdo.Imp_Real / Sum (Sdo.Imp_Real) Over ' +
        '()'
      
        '               End                                              ' +
        '            Pct_Real'
      '          From (Select Case When Mdo.ID_Sub_Merc = 6 Then 8 '
      '                            Else Mdo.ID_Sub_Merc'
      
        '                       End                                      ' +
        '                                                  ID_Sub_Mercado' +
        ','
      
        '                       Case When Mdo.ID_Sub_Merc In (6, 8) Then ' +
        #39'CONSTRUCCION/OTROS'#39
      '                            Else Mdo.Desc_Sub_Merc'
      
        '                       End                                      ' +
        '                                                  Desc_Sub_Merca' +
        'do,'
      
        '                       Sdo.Nom_Acred_Reg,                       ' +
        '                                                                ' +
        '               '
      '                       Sdo.ID_Acreditado,'
      '                       Sdo.ID_Contrato,'
      '                       Sdo.ID_Credito,'
      
        '                       Sdo.Tipo_Credito,                        ' +
        '                                                                ' +
        '               '
      '                       ((Nvl (Sdo.Imp_Cap_Vig,     0) +'
      '                         Nvl (Sdo.Imp_Cap_Imp,     0) +'
      '                         Nvl (Sdo.Imp_Cap_Vdo_NE,  0) +'
      '                         Nvl (Sdo.Imp_Cap_Vdo_Ex,  0) + '
      '                         Nvl (Sdo.Imp_Int_Vig,     0) + '
      '                         Nvl (Sdo.Imp_Int_Imp,     0) +'
      '                         Nvl (Sdo.Imp_Int_Vdo_NE,  0) +'
      '                         Nvl (Sdo.Imp_Int_Vdo_Ex,  0) -'
      
        '                         Case :peInt_Cob_Ant When '#39'V'#39' Then Nvl (' +
        'Imp_Int_Cob_Ant, 0) Else 0 End'
      
        '                        ) * PkgCrConsolidado1.Fnc_Obt_Tipo_Cambi' +
        'o_Regul (Cve_Moneda,  '
      
        '                                                                ' +
        '         '#39'D000'#39', '
      
        '                                                                ' +
        '         To_Char (:peFecha, '#39'YYYY'#39'),'
      
        '                                                                ' +
        '         To_Char (:peFecha, '#39'MM'#39')'
      
        '                                                                ' +
        '        )'
      
        '                       )                                        ' +
        '                                                  Imp_Real'
      
        '                  From Table (PkgCrGPViews.VW_CR_GP_Saldos_Edos_' +
        'Mun (:peFecha, :peTipo_Entidad)) Sdo'
      
        '                  Join CR_Mercado_Obj_Det Mdo On Sdo.Cve_Mercado' +
        ' = Mdo.Cve_Mercado And'
      
        '                                                 Sdo.ID_Sub_Merc' +
        ' = Mdo.ID_Sub_Merc'
      '                 Where Sdo.Cve_Mercado = '#39'INFR'#39
      
        '                   And (:peCartas_Cred = '#39'V'#39' Or Sdo.Tipo_Credito' +
        ' = '#39'CRED'#39')'
      '               ) Sdo       '
      
        '           Left Outer Join (Select 1 ID_Sub_Merc,   16 Pct_Minim' +
        'o,   22 Pct_Maximo From Dual Union  '
      
        '                            Select 2 ID_Sub_Merc,   16 Pct_Minim' +
        'o,   22 Pct_Maximo From Dual Union  '
      
        '                            Select 3 ID_Sub_Merc,    2 Pct_Minim' +
        'o,    7 Pct_Maximo From Dual Union  '
      
        '                            Select 4 ID_Sub_Merc,   28 Pct_Minim' +
        'o,   34 Pct_Maximo From Dual Union  '
      
        '                            Select 5 ID_Sub_Merc, Null Pct_Minim' +
        'o, Null Pct_Maximo From Dual Union  '
      
        '                            Select 7 ID_Sub_Merc, Null Pct_Minim' +
        'o, Null Pct_Maximo From Dual Union'
      
        '                            Select 8 ID_Sub_Merc,   23 Pct_Minim' +
        'o,   29 Pct_Maximo From Dual'
      
        '                           ) Pct On Sdo.ID_Sub_Mercado = Pct.ID_' +
        'Sub_Merc          '
      '        Union All'
      
        '        Select 2                                                ' +
        '            Orden_Clasif,'
      
        '               '#39'Por fuente de pago'#39'                             ' +
        '            Clasificacion,'
      '               Orden_Concepto,'
      '               Concepto,'
      '               Nom_Acred_Reg,'
      '               ID_Acreditado,'
      '               ID_Contrato,'
      '               ID_Credito,'
      '               Tipo_Credito,'
      '               Pct_Minimo,'
      '               Pct_Maximo,'
      
        '               Round (Imp_Real / :peFactor, Case When :peFactor ' +
        '= 1000000 Then 0 Else 2 End)   Imp_Real,'
      '               Case When Sum (Imp_Real) Over () = 0 Then 0 '
      '                    Else Imp_Real / Sum (Imp_Real) Over ()'
      
        '               End                                              ' +
        '            Pct_Real'
      
        '          From (Select FP.Orden                                 ' +
        '           Orden_Concepto,'
      
        '                       FP.Desc_Fuente_Pago                      ' +
        '           Concepto,'
      
        '                       Sdo.Nom_Acred_Reg,                       ' +
        '                                                                ' +
        '               '
      '                       Sdo.ID_Acreditado,'
      '                       Sdo.ID_Contrato,'
      '                       Sdo.ID_Credito,'
      '                       Sdo.Tipo_Credito,'
      '                       FP.Pct_Minimo,'
      
        '                       FP.Pct_Maximo,                           ' +
        '                                                                ' +
        '            '
      '                       ((Nvl (Sdo.Imp_Cap_Vig,     0) +'
      '                         Nvl (Sdo.Imp_Cap_Imp,     0) +'
      '                         Nvl (Sdo.Imp_Cap_Vdo_NE,  0) +'
      '                         Nvl (Sdo.Imp_Cap_Vdo_Ex,  0) + '
      '                         Nvl (Sdo.Imp_Int_Vig,     0) + '
      '                         Nvl (Sdo.Imp_Int_Imp,     0) +'
      '                         Nvl (Sdo.Imp_Int_Vdo_NE,  0) +'
      '                         Nvl (Sdo.Imp_Int_Vdo_Ex,  0) - '
      
        '                         Case :peInt_Cob_Ant When '#39'V'#39' Then Nvl (' +
        'Imp_Int_Cob_Ant, 0) Else 0 End'
      
        '                        ) * PkgCrConsolidado1.Fnc_Obt_Tipo_Cambi' +
        'o_Regul (Cve_Moneda,  '
      
        '                                                                ' +
        '         '#39'D000'#39', '
      
        '                                                                ' +
        '         To_Char (:peFecha, '#39'YYYY'#39'),'
      
        '                                                                ' +
        '         To_Char (:peFecha, '#39'MM'#39')'
      
        '                                                                ' +
        '        )'
      
        '                       )                                        ' +
        '                                                  Imp_Real'
      
        '                  From Table (PkgCrGPViews.VW_CR_GP_Saldos_Edos_' +
        'Mun (:peFecha, :peTipo_Entidad)) Sdo'
      
        '                  Left Outer Join (Select '#39'01'#39' Cve_Fuente_Pago, ' +
        ' 3 Orden, '#39'PPS'#39'                Desc_Fuente_Pago,   30 Pct_Minimo' +
        ',   36 Pct_Maximo From Dual Union  --02'
      
        '                                   Select '#39'04'#39' Cve_Fuente_Pago, ' +
        ' 5 Orden, '#39'NO APLICA'#39'          Desc_Fuente_Pago, Null Pct_Minimo' +
        ', Null Pct_Maximo From Dual Union  --No'
      
        '                                   Select '#39'05'#39' Cve_Fuente_Pago, ' +
        ' 4 Orden, '#39'OTROS'#39'              Desc_Fuente_Pago,    0 Pct_Minimo' +
        ',    6 Pct_Maximo From Dual Union  --04'
      
        '                                   Select '#39'02'#39' Cve_Fuente_Pago, ' +
        ' 1 Orden, '#39'CESIÓN DE DERECHOS'#39' Desc_Fuente_Pago,   26 Pct_Minimo' +
        ',   32 Pct_Maximo From Dual Union  --05'
      
        '                                   Select '#39'03'#39' Cve_Fuente_Pago, ' +
        ' 2 Orden, '#39'FLUJO PROYECTO'#39'     Desc_Fuente_Pago,   20 Pct_Minimo' +
        ',   26 Pct_Maximo From Dual        --06'
      
        '                                  ) FP On Sdo.Cve_Fuente_Pago = ' +
        'FP.Cve_Fuente_Pago'
      '                 Where Sdo.Cve_Mercado = '#39'INFR'#39
      
        '                   And (:peCartas_Cred = '#39'V'#39' Or Sdo.Tipo_Credito' +
        ' = '#39'CRED'#39')'
      '               )       '
      '       )'
      ' Where Imp_Real <> 0       '
      
        ' Order By Orden_Clasif, Orden_Concepto, Nom_Acred_Reg, ID_Acredi' +
        'tado, ID_Contrato, ID_Credito')
    Left = 160
    Top = 160
    ParamData = <
      item
        DataType = ftUnknown
        Name = 'peFactor'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFactor'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peInt_Cob_Ant'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peTipo_Entidad'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peCartas_Cred'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFactor'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFactor'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peInt_Cob_Ant'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peFecha'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peTipo_Entidad'
        ParamType = ptUnknown
      end
      item
        DataType = ftUnknown
        Name = 'peCartas_Cred'
        ParamType = ptUnknown
      end>
  end
end
